(()=>{function e(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return t?t[2]:null}var t=function(e,t=window.location.href){e=e.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}("aff");!e("affiliateID")&&t?(function(e,t,a){var o=new Date;o.setTime(o.getTime()+2592e6);var n="; expires="+o.toUTCString();document.cookie="affiliateID="+(t||"")+n+"; path=/"}(0,t),fetch("https://api.ipify.org?format=json").then((e=>e.json())).then((e=>{var t=e.ip,a=document.referrer;console.log(a);var o=a?new URL(a).hostname:"direct",n=window.location.href,r=navigator.userAgent,i=new URLSearchParams(window.location.search),c={};for(var s of i.entries())c[s[0]]=s[1];e={ip:t,referrer:a,refferer_domain:o,pageUrl:n,userAgent:r,hostName:window.location.hostname,...c};var f={};for(var l in e)f[l]={stringValue:e[l]?e[l]:""};const p={createdAt:{timestampValue:new Date},lastUpdated:{timestampValue:new Date},...f};fetch("https://firestore.googleapis.com/v1/projects/deoapp-indonesia/databases/(default)/documents/affiliate_logs?documentId=&key=AIzaSyDHwfzgKXqfknEy3bctrbrlu37_hKeJevo",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({fields:p})}).then((()=>{})).catch((e=>{console.log(e.message)}))}))):console.log("affiliate=",e("affiliateID"))})();